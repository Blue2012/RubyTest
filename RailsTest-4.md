# 20200329 Memo

## URLとパラメータ
RailsはURLのパスとクエリーを解釈して、コントローラのアクションを呼び出し、

レンダリングの結果をブラウザに返す。

HTTPを介して、サーバー上のプログラムにパラメータを渡すには以下のような形式でURLに組み込む。
>「?名前 = 値」

ただ、Railsではもっと綺麗なURLの形式でサーバー上のプログラムにパラメータを渡すことが可能。

> http://localhost:3000/members/123

上記では"members"の値に"123"を引き渡している。

## HTTPのメソッド

>GET：リソースの要求

>POST：リソースの送信

>HEAD：ヘッダー部分だけを要求

>PUT：リソースの置き換え

>PATCH：リソースの一部更新

>DELETE：リソースの削除

## Railsの内部動作

>1.ブラウザからのHTTPリクエストを受信

>2.Railsはパスを調べる

>3.routes.rbにしたがって、どのコントローラのどのアクションを選択するか決定する

つまり、URLパスにRailsのコントローラが紐づいていることになる

Railsアプリケーション上には複数のコントローラが存在しており、

各コントローラの配下には複数のアクションが定義されている。

Railsは選択されたアクション(メソッド)を実行する。

## アクションとモデルとデータベース

>1.アクションはモデルと紐づいている

>2.モデルはデータベースのテーブルと対応している

上記の関係性から、アクションはモデルから取得した情報のうち、

表示に必要なものをインスタンス変数に保存する。

## アクションとビュー

>アクションはブラウザへのレスポンスを作成するためにビュー(テンプレート)を選択する。

>特に指定しない限り、アクションと同名のテンプレートが選択される。

選ばれたテンプレートはコントローラのインスタンス変数を参照し、

その値をHTMLリソースの中に埋め込む、この処理を`レンダリング`と呼ぶ。

出来上がったHTML文章をコントローラによりブラウザに送られ、画面が表示される。

## ルーティング
URLのパスから、特定のコントローラとアクションを選択することを`ルーティング`と呼ぶ。

具体的には、route.rbファイルがHTTPメソッドに対応したアクションを呼び出す。

>1. ~/aboutのパスにアクセスする

>2. route.rbファイルに記載されている get "about" => "top#about" が参照される。

>   TopControllerのaboutアクションが呼び出される

>3. route.rbファイルに記載されている post "login" => "sessions#login"が参照される。

>   SessionsControllerのloginアクションが呼び出される

